<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Memoria de Sin√≥nimos</title>
  <link rel="stylesheet" href="/css/estilo_general.css">
   <link rel="icon" href="/favicon-32x32.png" type="image/png" sizes="32x32">
   <link rel="icon" href="/favicon-16x16.png" type="image/png" sizes="16x16">
   <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Quicksand','Segoe UI', sans-serif;
      background: url("/img/letras.webp");
      background-size: cover;
      background-position: center;    
      background-repeat: no-repeat;
      margin: 0;
      padding: 1rem;
      text-align: center;
    }

    header {
      background-color: #4a90e2;
      color: white;
      padding: 1rem;
      font-size: 1.5rem;
      margin-bottom: 1rem;
      animation: fadeInDown 1s ease;
    }

    #tablero {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      max-width: 600px;
      margin: 0 auto;
      animation: fadeInUp 1s ease;
    }

    .carta {
      background-color: #ffffff;
      border: 2px solid #4a90e2;
      border-radius: 10px;
      height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      user-select: none;
      transition: background 0.3s;
    }

    .carta.volteada {
      background-color: #3498db;
      color: white;
    }

    .carta.acertada {
      background-color: #2ecc71;
      color: white;
      cursor: default;
    }

    #mensaje {
      margin-top: 1rem;
      font-size: 1.2rem;
      color: #27ae60;
      background: rgba(255, 255, 255, 0.8);
    }

    button {
      margin-top: 1.5rem;
      padding: 0.6rem 1.2rem;
      font-size: 1rem;
      border: none;
      border-radius: 8px;
      background-color: #4a90e2;
      color: white;
      cursor: pointer;
      font-family: 'Quicksand','Segoe UI', sans-serif;
    }
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeInDown {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    audio {
      display: none;
    }


  
#reloj {
  margin: 1rem auto;
  font-size: 1.3rem;
  font-weight: bold;
  color: #e74c3c;
  background: #fff;
  padding: 0.5rem 1rem;
  border-radius: 10px;
  width: fit-content;
  animation: fadeInDown 1s ease;
}


@keyframes shake {
  0% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  50% { transform: translateX(5px); }
  75% { transform: translateX(-5px); }
  100% { transform: translateX(0); }
}
.temporizador-final {
  animation: shake 0.5s ease;
  color: red;
  font-weight: bold;
}

</style>
</head>
<body>

  <header>üß† Memoria Brillante</header>
  <div id="tablero"></div>
  <div id="reloj">‚è≥ Tiempo restante: 60 s</div>
  <div id="mensaje"></div>
  <button onclick="reiniciar()">Reiniciar</button>

  <audio id="bg-music" autoplay loop>
    <source src="/audio/playground_kids.mp3" type="audio/mp3">
    Tu navegador no soporta m√∫sica de fondo.
  </audio>
<audio id="tiempo-acabado">
  <source src="/audio/timeout.mp3" type="audio/mp3">
</audio>



  <script>
    const pares = [
      ["bonito", "atractivo"],
      ["grande", "enorme"],
      ["feliz", "alegre"],
      ["ayudar", "apoyar"],
      ["importante", "relevante"],
      ["bueno", "positivo"]
    ];

    let cartas = [];
    let volteadas = [];
    let aciertos = 0;

    function mezclar(array) {
      return array.sort(() => Math.random() - 0.5);
    }

    function crearTablero() {
      const tablero = document.getElementById("tablero");
      tablero.innerHTML = "";
      cartas = [];
      volteadas = [];
      aciertos = 0;
      document.getElementById("mensaje").textContent = "";

      let todas = [];
      pares.forEach(([a, b]) => {
        todas.push({ texto: a, pareja: b });
        todas.push({ texto: b, pareja: a });
      });

      todas = mezclar(todas);

      todas.forEach((item, i) => {
        const div = document.createElement("div");
        div.className = "carta";
        div.dataset.texto = item.texto;
        div.dataset.pareja = item.pareja;
        div.textContent = "?";
        div.onclick = () => voltearCarta(div);
        cartas.push(div);
        tablero.appendChild(div);
      });
    }

    function voltearCarta(carta) {
      if (volteadas.length >= 2 || carta.classList.contains("volteada") || carta.classList.contains("acertada")) return;

      carta.classList.add("volteada");
      carta.textContent = carta.dataset.texto;
      volteadas.push(carta);

      if (volteadas.length === 2) {
        const [c1, c2] = volteadas;
        if (c1.dataset.texto === c2.dataset.pareja) {
          c1.classList.add("acertada");
          c2.classList.add("acertada");
          aciertos++;
          if (aciertos === pares.length) {
            document.getElementById("mensaje").textContent = "üéâ ¬°Muy bien! Completaste el juego.";
            localStorage.setItem("puntaje_memoria_sinonimos", pares.length);
          }
          volteadas = [];
        } else {
          setTimeout(() => {
            c1.classList.remove("volteada");
            c2.classList.remove("volteada");
            c1.textContent = "?";
            c2.textContent = "?";
            volteadas = [];
          }, 1000);
        }
      }
    }

let tiempoLimite = 60;
let intervalo;

function iniciarTemporizador() {
  document.getElementById("reloj").textContent = `‚è≥ Tiempo restante: ${tiempoLimite} s`;
  intervalo = setInterval(() => {
    tiempoLimite--;
    document.getElementById("reloj").textContent = `‚è≥ Tiempo restante: ${tiempoLimite} s`;
    if (tiempoLimite <= 0) {
      clearInterval(intervalo);
      finalizarPorTiempo();
    }
  }, 1000);
}

function finalizarPorTiempo() {
  document.getElementById("mensaje").textContent = "‚è∞ ¬°Se acab√≥ el tiempo!";
  cartas.forEach(c => c.onclick = null);
    clearInterval(intervalo);
  const reloj = document.getElementById("reloj");
  reloj.classList.add("temporizador-final");
  document.getElementById("mensaje").textContent = "‚è∞ ¬°Se acab√≥ el tiempo!";
  cartas.forEach(c => c.onclick = null);
  localStorage.setItem("puntaje_memoria_sinonimos", aciertos);
  document.getElementById("tiempo-acabado").play();
  setTimeout(() => {
    window.location.href = "../../puntajes.html";
  }, 4000);
  setTimeout(() => {
    window.location.href = "../../puntajes.html";
  }, 3000);
}

    function reiniciar() {
      crearTablero();
iniciarTemporizador();
    }

    crearTablero();
iniciarTemporizador();

    window.onload = () => {
      document.getElementById("bg-music").volume = 0.1;
    };
  
</script>

    <nav class="tabbar">
        <a href="/main.html" class="tab"><img src = "/icons/home.svg"><br>Inicio</a>
        <a href="/puntajes.html" class="tab"><img src = "/icons/win.svg"><br>Logros</a>
        <a href="/jugar.html" class="tab"><img src = "/icons/videogame.svg"><br>Jugar</a>
        <a href="/index.html" class="tab" onclick="localStorage.clear()"><img src = "/icons/exit.svg"><br>Salir</a>
    </nav>

  <script src = "/js/check_loggin.js">
    </script>

    
</body>
</html>